<!DOCTYPE html>
<html>
<head>
	<title>Ololo</title>
</head>
<body>
<style>
	#engine{
		background: #939393;
		position: fixed;
		top: 10px;
		left: 10px;
		width: 320px;
		height: 480px;
		border: 1px solid #898989;
	}
</style>
<div id="engine">

	<script type="text/javascript" src="lib/jquery-2.0.3.min.js"></script>

	
        <canvas id="turbulenz_game_engine_canvas" moz-opaque="true" tabindex="1">
            Sorry, but your browser does not support WebGL or does not have it
            enabled.  To get a WebGL-enabled browser, please see:<br/>
            <a href="http://www.khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" target="_blank">
                Getting a WebGL Implementation
            </a>
        </canvas>

        <script type="text/javascript">
            var canvasSupported = true;
            (function()
            {
                var contextNames = ['2d'];
                var context = null;
                var canvas = document.createElement('canvas');

                document.body.appendChild(canvas);

                for (var i = 0; i < contextNames.length; i += 1)
                {
                    try {
                        context = canvas.getContext(contextNames[i]);
                    } catch (e) {}

                    if (context) {
                        break;
                    }
                }
                if (!context)
                {
                    canvasSupported = false;
                    window.alert("Sorry, but your browser does not support WebGL or does not have it enabled.");
                }

                document.body.removeChild(canvas);
            }());
            var TurbulenzEngine = {};
        </script>

</div>

<script type="text/javascript" src="jslib/debug.js"></script>
<script type="text/javascript" src="jslib/vmath.js"></script>
<script type="text/javascript" src="jslib/utilities.js"></script>
<script type="text/javascript" src="jslib/aabbtree.js"></script>
<script type="text/javascript" src="jslib/observer.js"></script>
<script type="text/javascript" src="jslib/webgl/ddsloader.js"></script>
<script type="text/javascript" src="jslib/webgl/graphicsdevice.js"></script>
<script type="text/javascript" src="jslib/webgl/inputdevice.js"></script>
<script type="text/javascript" src="jslib/webgl/mathdevice.js"></script>
<script type="text/javascript" src="jslib/webgl/networkdevice.js"></script>
<script type="text/javascript" src="jslib/webgl/physicsdevice.js"></script>
<script type="text/javascript" src="jslib/webgl/sounddevice.js"></script>
<script type="text/javascript" src="jslib/webgl/soundtarloader.js"></script>
<script type="text/javascript" src="jslib/webgl/tarloader.js"></script>
<script type="text/javascript" src="jslib/webgl/tgaloader.js"></script>
<script type="text/javascript" src="jslib/webgl/touch.js"></script>
<script type="text/javascript" src="jslib/webgl/touchevent.js"></script>
<script type="text/javascript" src="jslib/webgl/turbulenzengine.js"></script>
<script type="text/javascript" src="jslib/camera.js"></script>
<script type="text/javascript" src="lib/stats.min.js"></script>
<script type="text/javascript" src="jslib/physics2ddevice.js"></script>
<script type="text/javascript" src="jslib/boxtree.js"></script>
<script type="text/javascript" src="jslib/draw2d.js"></script>
<script type="text/javascript" src="jslib/physics2ddebugdraw.js"></script>
<script type="text/javascript" src="src/AssetLoader.js"></script>
<script type="text/javascript" src="src/Graphics.js"></script>
<script type="text/javascript" src="src/Physics.js"></script>
<script type="text/javascript" src="src/Game.js"></script>
<script src="http://debug-software.intel.com/target/target-script-min.js#FXhhUjw-pK34WAH2LqcltQ1xwk0q_zE0wfOud4oCCJU"></script>
<script type="text/javascript">
	window.DEBUG = true;
	// ----------------------------------------
	// Embedded code and startup code.
	// Supplied by 'tz_startup_code' variable.
	// ----------------------------------------
	
'use_strict';

var game = new Game();


        // Engine startup
        window.onload = function ()
        {debugger;

	        console.log('onload');
            var appEntry = TurbulenzEngine.onload;
            var appShutdown = TurbulenzEngine.onunload;
            if (!appEntry) {
                window.alert("TurbulenzEngine.onload has not been set");
                return;
            }

            var canvas =
                document.getElementById('turbulenz_game_engine_canvas');

            var startCanvas = function startCanvasFn()
            {
                if (canvas.getContext && canvasSupported)
                {
                    TurbulenzEngine = WebGLTurbulenzEngine.create({
                        canvas: canvas,
                        fillParent: true
                    });

                    if (!TurbulenzEngine) {
                        window.alert("Failed to init TurbulenzEngine (canvas)");
                        return;
                    }

                    TurbulenzEngine.onload = appEntry;
                    TurbulenzEngine.onunload = appShutdown;
                    appEntry()
                }
            }

            var previousOnBeforeUnload = window.onbeforeunload;
            window.onbeforeunload = function ()
            {
                if (TurbulenzEngine.onunload) {
                    TurbulenzEngine.onunload.call(this);
                }
            };  // window.beforeunload

            startCanvas();
        };  // window.onload()

</script>
</body>
</html>